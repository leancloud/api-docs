<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_144) on Wed May 09 13:53:23 CST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf8">
<title>PushService (AVOS Cloud Android SDK)</title>
<meta name="date" content="2018-05-09">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PushService (AVOS Cloud Android SDK)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9};
var tabs = {65535:["t0","所有方法"],1:["t1","静态方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/PushService.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/avos/avoscloud/ProgressCallback.html" title="com.avos.avoscloud中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../com/avos/avoscloud/PushServiceParcel.html" title="com.avos.avoscloud中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/avos/avoscloud/PushService.html" target="_top">框架</a></li>
<li><a href="PushService.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.avos.avoscloud</div>
<h2 title="类 PushService" class="title">类 PushService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Service</li>
<li>
<ul class="inheritance">
<li>com.avos.avoscloud.PushService</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">PushService</span>
extends Service</pre>
<div class="block"><p>
 A service to listen for push notifications. This operates in the same process as the parent
 application. To use this class, the PushService must be registered. Add this XML right before the
 </application> tag in your AndroidManifest.xml:
 </p>
 <p/>
 <pre>
    <service android:name="com.avos.avoscloud.PushService" />
    <receiver android:name="com.avos.avoscloud.AVBroadcastReceiver">
        <intent-filter>
            <action android:name="android.intent.action.BOOT_COMPLETED" />
            <action android:name="android.intent.action.USER_PRESENT" />
        </intent-filter>
    </receiver>
 </pre>
 <p>
 Next, you must ensure your app has the permissions needed to show a notification. Make sure that
 these permissions are present in your AndroidManifest.xml, typically immediately before the
 </manifest> tag:
 </p>
 <p/>
 <pre>
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
    <uses-permission android:name="android.permission.VIBRATE" />
 </pre>
 <p>
 Once push notifications are configured in the manifest, you can subscribe to a push channel by
 calling
 </p>
 <p/>
 <pre>
 PushService.subscribe(context, &quot;the_channel_name&quot;, YourActivity.class);
 </pre>
 <p>
 When the client receives a push message, a notification will appear in the system tray. When the
 user taps the notification, they will enter the application through a new instance of
 YourActivity.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/avos/avoscloud/PushService.html#PushService--">PushService</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">静态方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>IBinder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/avos/avoscloud/PushService.html#onBind-Intent-">onBind</a></span>(Intent&nbsp;intent)</code>
<div class="block">onBind should not be called directly.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/avos/avoscloud/PushService.html#onCreate--">onCreate</a></span>()</code>
<div class="block">Client code should not call onCreate directly.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/avos/avoscloud/PushService.html#onDestroy--">onDestroy</a></span>()</code>
<div class="block">Client code should not call onDestroy directly.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/avos/avoscloud/PushService.html#onStartCommand-Intent-int-int-">onStartCommand</a></span>(Intent&nbsp;intent,
              int&nbsp;flags,
              int&nbsp;startId)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/avos/avoscloud/PushService.html#onTaskRemoved-Intent-">onTaskRemoved</a></span>(Intent&nbsp;rootIntent)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/avos/avoscloud/PushService.html#setAutoWakeUp-boolean-">setAutoWakeUp</a></span>(boolean&nbsp;isAutoWakeUp)</code>
<div class="block">Set whether to automatically wake up PushService</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/avos/avoscloud/PushService.html#setDefaultChannelId-Context-java.lang.String-">setDefaultChannelId</a></span>(Context&nbsp;context,
                   java.lang.String&nbsp;channelId)</code>
<div class="block">Set default channel for Android Oreo or newer version
 Notice: it isn"t necessary to invoke this method for any Android version before Oreo.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/avos/avoscloud/PushService.html#setDefaultPushCallback-android.content.Context-java.lang.Class-">setDefaultPushCallback</a></span>(android.content.Context&nbsp;context,
                      java.lang.Class&lt;? extends android.app.Activity&gt;&nbsp;cls)</code>
<div class="block">Provides a default Activity class to handle pushes.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/avos/avoscloud/PushService.html#setNotificationIcon-int-">setNotificationIcon</a></span>(int&nbsp;icon)</code>
<div class="block">设置推送消息的Icon图标，如果没有设置，默认使用您配置里的应用图标。</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/avos/avoscloud/PushService.html#subscribe-android.content.Context-java.lang.String-java.lang.Class-">subscribe</a></span>(android.content.Context&nbsp;context,
         java.lang.String&nbsp;channel,
         java.lang.Class&lt;? extends android.app.Activity&gt;&nbsp;cls)</code>
<div class="block">Helper function to subscribe to push notifications with the default application icon.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/avos/avoscloud/PushService.html#unsubscribe-android.content.Context-java.lang.String-">unsubscribe</a></span>(android.content.Context&nbsp;context,
           java.lang.String&nbsp;channel)</code>
<div class="block">Cancels a previous call to subscribe.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="PushService--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PushService</h4>
<pre>public&nbsp;PushService()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="onCreate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCreate</h4>
<pre>public&nbsp;void&nbsp;onCreate()</pre>
<div class="block">Client code should not call onCreate directly.</div>
</li>
</ul>
<a name="onStartCommand-Intent-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onStartCommand</h4>
<pre>public&nbsp;int&nbsp;onStartCommand(Intent&nbsp;intent,
                          int&nbsp;flags,
                          int&nbsp;startId)</pre>
</li>
</ul>
<a name="onDestroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onDestroy</h4>
<pre>public&nbsp;void&nbsp;onDestroy()</pre>
<div class="block">Client code should not call onDestroy directly.</div>
</li>
</ul>
<a name="onBind-Intent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onBind</h4>
<pre>public&nbsp;IBinder&nbsp;onBind(Intent&nbsp;intent)</pre>
<div class="block">onBind should not be called directly.</div>
</li>
</ul>
<a name="subscribe-android.content.Context-java.lang.String-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre>public static&nbsp;void&nbsp;subscribe(android.content.Context&nbsp;context,
                             java.lang.String&nbsp;channel,
                             java.lang.Class&lt;? extends android.app.Activity&gt;&nbsp;cls)</pre>
<div class="block">Helper function to subscribe to push notifications with the default application icon.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>context</code> - This is used to access local storage to cache the subscription, so it must
                currently be a viable context.</dd>
<dd><code>channel</code> - A string identifier that determines which messages will cause a push
                notification to be sent to this client. The channel name must start with a letter and
                contain only letters, numbers, dashes, and underscores.</dd>
<dd><code>cls</code> - This should be a subclass of Activity. An instance of this Activity is started when
                the user responds to this push notification. If you are not sure what to use here,
                just
                use your application's main Activity subclass.</dd>
</dl>
</li>
</ul>
<a name="setNotificationIcon-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNotificationIcon</h4>
<pre>public static&nbsp;void&nbsp;setNotificationIcon(int&nbsp;icon)</pre>
<div class="block">设置推送消息的Icon图标，如果没有设置，默认使用您配置里的应用图标。</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>icon</code> - A resource ID in the application's package of the drawble to use.</dd>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>1.4.4</dd>
</dl>
</li>
</ul>
<a name="setDefaultPushCallback-android.content.Context-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultPushCallback</h4>
<pre>public static&nbsp;void&nbsp;setDefaultPushCallback(android.content.Context&nbsp;context,
                                          java.lang.Class&lt;? extends android.app.Activity&gt;&nbsp;cls)</pre>
<div class="block">Provides a default Activity class to handle pushes. Setting a default allows your program to
 handle pushes that aren't registered with a subscribe call. This can happen when your
 application changes its subscriptions directly through the AVInstallation or via push-to-query.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>context</code> - This is used to access local storage to cache the subscription, so it must
                currently be a viable context.</dd>
<dd><code>cls</code> - This should be a subclass of Activity. An instance of this Activity is started when
                the user responds to this push notification. If you are not sure what to use here,
                just
                use your application's main Activity subclass.</dd>
</dl>
</li>
</ul>
<a name="unsubscribe-android.content.Context-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unsubscribe</h4>
<pre>public static&nbsp;void&nbsp;unsubscribe(android.content.Context&nbsp;context,
                               java.lang.String&nbsp;channel)</pre>
<div class="block">Cancels a previous call to subscribe. If the user is not subscribed to this channel, this is a
 no-op. This call does not require internet access. It returns without blocking</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>context</code> - A currently viable Context.</dd>
<dd><code>channel</code> - The string defining the channel to unsubscribe from.</dd>
</dl>
</li>
</ul>
<a name="onTaskRemoved-Intent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onTaskRemoved</h4>
<pre>public&nbsp;void&nbsp;onTaskRemoved(Intent&nbsp;rootIntent)</pre>
</li>
</ul>
<a name="setAutoWakeUp-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAutoWakeUp</h4>
<pre>public static&nbsp;void&nbsp;setAutoWakeUp(boolean&nbsp;isAutoWakeUp)</pre>
<div class="block">Set whether to automatically wake up PushService</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>isAutoWakeUp</code> - the default value is true</dd>
</dl>
</li>
</ul>
<a name="setDefaultChannelId-Context-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setDefaultChannelId</h4>
<pre>public static&nbsp;void&nbsp;setDefaultChannelId(Context&nbsp;context,
                                       java.lang.String&nbsp;channelId)</pre>
<div class="block">Set default channel for Android Oreo or newer version
 Notice: it isn"t necessary to invoke this method for any Android version before Oreo.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>context</code> - context</dd>
<dd><code>channelId</code> - default channel id.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/PushService.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/avos/avoscloud/ProgressCallback.html" title="com.avos.avoscloud中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../com/avos/avoscloud/PushServiceParcel.html" title="com.avos.avoscloud中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/avos/avoscloud/PushService.html" target="_top">框架</a></li>
<li><a href="PushService.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i>Copyright &#169; 2013 AVOS Systems Inc. All Rights Reserved.</i></small></p>
</body>
</html>
